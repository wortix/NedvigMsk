const TelegramApi = require('node-telegram-bot-api');
const fs = require('fs');
const { dirname } = require('path');
const token = '5550511372:AAExmmhr9P2T2RG0pcipBEEkNBMTm7RtQoY';
let flats = [
    {  text:`–ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã-—Å—Ç—É–¥–∏—è, 32 –º¬≤ –≤ –ñ–ö ¬´–õ–∞–π–Ω–µ—Ä¬ª, –í–æ—Å—Ç–æ—á–Ω—ã–π, —Å–¥–∞–Ω –≤ 4 –∫–≤. 2016 –ú–æ—Å–∫–≤–∞, –°–ê–û, —Ä-–Ω –•–æ—Ä–æ—à–µ–≤—Å–∫–∏–π, –•–æ–¥—ã–Ω—Å–∫–∏–π –±—É–ª 2


–ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç-—Å—Ç—É–¥–∏—è 185 —Å –ø—Ä–æ—Å—Ç–æ—Ä–Ω–æ–π –ª–æ–¥–∂–∏–µ–π –∏ –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–º –≤–∏–¥–æ–º –Ω–∞ —É–ª–∏—Ü—É. –ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω –≤—Å–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –º–µ–±–µ–ª—å—é –∏ —Ç–µ—Ö–Ω–∏–∫–æ–π (–∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä, —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫, –≤–∞—Ä–æ—á–Ω–∞—è –ø–∞–Ω–µ–ª—å, –ø–æ—Å—É–¥–æ–º–æ–µ—á–Ω–∞—è –∏ —Å—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω—ã), –∞ —Ç–∞–∫–∂–µ –∫—É—Ö–æ–Ω–Ω—ã–º –≥–∞—Ä–Ω–∏—Ç—É—Ä–æ–º –∏ –±–∞—Ä–Ω–æ–π —Å—Ç–æ–π–∫–æ–π —Å–æ —Å—Ç—É–ª—å—è–º–∏ –Ω–∞ –¥–≤–µ –ø–µ—Ä—Å–æ–Ω—ã. –ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç –Ω–∞–ø–æ–ª–Ω–µ–Ω —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –º–µ–±–µ–ª—å—é –≤ –±–µ–∂–µ–≤–æ–π —Ü–≤–µ—Ç–æ–≤–æ–π –≥–∞–º–º–µ. –í –∑–æ–Ω–µ –æ—Ç–¥—ã—Ö–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω —Ä–∞—Å–∫–ª–∞–¥–Ω–æ–π –¥–∏–≤–∞–Ω, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ñ–ö —Ç–µ–ª–µ–≤–∏–∑–æ—Ä —Å —Ç—É–º–±–æ–π. –í –ø—Ä–∏—Ö–æ–∂–µ–π –∏–º–µ–µ—Ç—Å—è –≤–º–µ—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–π —à–∫–∞—Ñ –∏ —Å–∫–∞–º—å—è —Å –ø–æ–ª–∫–æ–π –¥–ª—è –æ–±—É–≤–∏. –í –∫–≤–∞—Ä—Ç–∏—Ä–µ –æ–¥–∏–Ω —Å–æ–≤–º–µ—â–µ–Ω–Ω—ã–π —Å–∞–Ω—É–∑–µ–ª —Å –¥—É—à–µ–≤–æ–π –∫–∞–±–∏–Ω–æ–π, —Ä–∞–∫–æ–≤–∏–Ω–æ–π –∏ –∑–µ—Ä–∫–∞–ª–æ–º —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π. –†–∞–∑—Ä–µ—à–µ–Ω–æ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏! –ë–ª–∏–∑–æ—Å—Ç—å –∫ —Ü–µ–Ω—Ç—Ä—É –≥–æ—Ä–æ–¥–∞, 300 –º –æ—Ç —Å—Ç. –º–µ—Ç—Ä–æ –¶–°–ö–ê, —É–¥–æ–±—Å—Ç–≤–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã—Ö —Ä–∞–∑–≤—è–∑–æ–∫, —Å–æ—Å–µ–¥—Å—Ç–≤–æ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –∫–ª—É–±–∞ –¶–°–ö–ê –∏ –æ–≥—Ä–æ–º–Ω—ã–π –≤—ã–±–æ—Ä —Ç–æ—Ä–≥–æ–≤–æ-—Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã - –¥–∞–ª–µ–∫–æ –Ω–µ –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –∞—Ä–µ–Ω–¥–Ω–æ–≥–æ –¥–æ–º–∞ "–õ–∞–π–Ω–µ—Ä". –£—Å–ª—É–≥–∏ 24/7 –í–ö–õ–Æ–ß–ï–ù–´ –í –ê–†–ï–ù–î–ù–£–Æ –ü–õ–ê–¢–£! (–ø—Ä–∏–µ–º –∫–æ—Ä—Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ü–∏–∏, –∑–∞—è–≤–æ–∫ –Ω–∞ —Ä–µ–º–æ–Ω—Ç, –≤—ã–¥–∞—á–∞ –≥–æ—Å—Ç–µ–≤—ã—Ö –ø—Ä–æ–ø—É—Å–∫–æ–≤ –∏ —Ç.–¥.). –£–¥–æ–±–Ω—ã–π –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É—Å–ª—É–≥: —É–±–æ—Ä–∫–∞, —Å—Ç–∏—Ä–∫–∞, –≥–ª–∞–∂–∫–∞, –∞ —Ç–∞–∫–∂–µ –ø—Ä–∏—Å–º–æ—Ç—Ä –∑–∞ –∂–∏–≤–æ—Ç–Ω—ã–º–∏ –∏ –¥—Ä. –ü—Ä–∏ –∑–∞—Å–µ–ª–µ–Ω–∏–∏ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞—Ä–µ–Ω–¥—ã –∑–∞ –ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü. –î–æ—Å—Ç—É–ø–Ω–∞ —Ä–∞—Å—Å—Ä–æ—á–∫–∞ –æ–ø–ª–∞—Ç—ã –¥–µ–ø–æ–∑–∏—Ç–∞ –Ω–∞ 3 –º–µ—Å—è—Ü–∞! –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –æ–ø–ª–∞—á–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—á–µ—Ç—á–∏–∫–∏ –∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã—Ö —É—Å–ª—É–≥.`,
  }, 
      {
          text: `–ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã-—Å—Ç—É–¥–∏—è, 32 –º¬≤ –≤ –ñ–ö ¬´–õ–∞–π–Ω–µ—Ä¬ª, –ó–∞–ø–∞–¥–Ω—ã–π, —Å–¥–∞–Ω –≤ 4 –∫–≤. 2017 –ú–æ—Å–∫–≤–∞, –°–ê–û, —Ä-–Ω –•–æ—Ä–æ—à–µ–≤—Å–∫–∏–π, –•–æ–¥—ã–Ω—Å–∫–∏–π –±—É–ª., 20–ê   


–°—Ç—É–¥–∏—è —Å –¥–∏–≤–∞–Ω–æ–º –≤ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π —Å–µ–∫—Ü–∏–∏. –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –≤ –∞—Ä–µ–Ω–¥—É —Å—Ç—É–¥–∏—è –æ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞, –æ—Å–Ω–∞—â–µ–Ω–Ω–∞—è –≤—Å–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –±—ã—Ç–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–æ–π (–ø–æ—Å—É–¥–æ–º–æ–µ—á–Ω–∞—è –º–∞—à–∏–Ω–∞, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫, –¥—É—Ö–æ–≤–∫–∞, –≤–∞—Ä–æ—á–Ω–∞—è –ø–∞–Ω–µ–ª—å, –≤—ã—Ç—è–∂–∫–∞, –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä, —Ç–µ–ª–µ–≤–∏–∑–æ—Ä 32 –¥—é–π–º–∞ —Å–º–∞—Ä—Ç —Ç–≤). –°–∞–Ω—É–∑–µ–ª –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω –≤–∞–Ω–Ω–æ–π, —Å—Ç–∏—Ä–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–æ–π, –∑–µ—Ä–∫–∞–ª–æ-—à–∫–∞—Ñ–æ–º —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π. –í –ø—Ä–∏—Ö–æ–∂–µ–π –Ω–∞—Å—Ç–µ–Ω–Ω–∞—è –≤–µ—à–∞–ª–∫–∞ –¥–ª—è –≤–µ—Ä—Ö–Ω–µ–π –æ–¥–µ–∂–¥—ã –∏ –Ω–∞–ø–æ–ª—å–Ω–∞—è –¥–ª—è –æ–±—É–≤–∏. –ì–ª—É–±–æ–∫–∏–π —á–µ—Ç—ã—Ä–µ—Ö-—Å–µ–∫—Ü–∏–æ–Ω–Ω—ã–π —à–∫–∞—Ñ –¥–ª—è –æ–¥–µ–∂–¥—ã, —Ç—É–º–±–∞ –ø–æ–¥ –¢–í. –í –æ–±–µ–¥–µ–Ω–Ω–æ–π –∑–æ–Ω–µ 2 –±–∞—Ä–Ω—ã—Ö —Å—Ç—É–ª–∞ –∏ –±–∞—Ä–Ω–∞—è —Å—Ç–æ–π–∫–∞, –¥–∏–≤–∞–Ω —Ä–∞—Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è, —Å–ø–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ 160 –Ω–∞ 200. –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ—Å—Ç–µ–∫–ª–µ–Ω–Ω–∞—è –ª–æ–¥–∂–∏—è. –î–æ–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–π–æ–Ω–µ —Å —Ä–∞–∑–≤–∏—Ç–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –≤ –¥–≤—É—Ö –º–∏–Ω—É—Ç–∞—Ö —Ö–æ–¥—å–±—ã –æ—Ç –¢–¶ "–ê–í–ò–ê–ü–ê–†–ö" –∏ –ø–∞—Ä–∫–∞ –•–æ–¥—ã–Ω—Å–∫–æ–µ –ø–æ–ª–µ. –ù–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –¥–æ–º–∞ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è: –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã (–í–∫—É—Å–í–∏–ª–ª, –ü—è—Ç–µ—Ä–æ—á–∫–∞, –ú–æ–π –ú–∞—Ä–∫–µ—Ç), —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã –∏ –∫–∞—Ñ–µ, —Å—Ç—É–¥–∏–∏ –∫—Ä–∞—Å–æ—Ç—ã, –º–∞—Å—Å–∞–∂–Ω—ã–π —Å–∞–ª–æ–Ω, —Ö–∏–º—á–∏—Å—Ç–∫–∞, –∞—Ç–µ–ª—å–µ. –¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è –∫–æ–º–ø–ª–µ–∫—Å–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∞ –¥–≤—É–º—è –≤–∏–¥–∞–º–∏ –ø–∞—Ä–∫–∏–Ω–≥–∞ (–ø–æ–¥–∑–µ–º–Ω–∞—è –ø–∞—Ä–∫–æ–≤–∫–∞ –∞—Ä–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç 9 —Ç—ã—Å/–º–µ—Å, –ø–æ–¥ —à–ª–∞–≥–±–∞—É–º–æ–º –≤–æ–∫—Ä—É–≥ –¥–æ–º–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ). –î–æ–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –æ—Ö—Ä–∞–Ω—è–µ–º–æ–π —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏. –ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∑–∞ —Å—á–µ—Ç –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—è –Ω–∞ –≤–µ—Å—å –ø–µ—Ä–∏–æ–¥ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è, –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∫–æ–Ω—Å—å–µ—Ä–∂-—Å–µ—Ä–≤–∏—Å, –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞. –í —Å–µ–∫—Ü–∏–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–∂–µ –∫–∞–º–µ—Ä—ã –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∏ –æ—Ö—Ä–∞–Ω–∞ 24 —á–∞—Å–∞. –ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ –≤–∫–ª—é—á–µ–Ω—ã, –∫—Ä–æ–º–µ —Å—á–µ—Ç—á–∏–∫–æ–≤ (—Å–≤–µ—Ç, –≤–æ–¥–∞). –î–æ–≥–æ–≤–æ—Ä –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ 6 –ª–∏–±–æ 11 –º–µ—Å—è—Ü–µ–≤, –≤–æ–∑–≤—Ä–∞—Ç –¥–µ–ø–æ–∑–∏—Ç–∞ –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞ –¥–æ–≥–æ–≤–æ—Ä–∞.`,
      },
      {
          text: `1-–∫–æ–º–Ω. –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã, 32 –º¬≤ –ú–æ—Å–∫–≤–∞, –í–ê–û, —Ä-–Ω –°–æ–∫–æ–ª–∏–Ω–∞—è –≥–æ—Ä–∞, 2-–π –í–æ–ª—å–Ω—ã–π –ø–µ—Ä., 11


–°—Ä–æ—á–Ω–æ —Å–¥–∞—é—Ç—Å—è –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã –æ–±—â–µ–π –ø–ª–æ—â–∞–¥—å—é 32 –º–µ—Ç—Ä–∞ –≤ "LOFT –í–æ–ª—å–Ω—ã–π"! –°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø–æ –≤—ã–≥–æ–¥–Ω–æ–π —Ü–µ–Ω–µ! –°–æ–≤–º–µ—â–µ–Ω–Ω—ã–π —Å–∞–Ω—É–∑–µ–ª, –ø–æ—Ç–æ–ª–∫–∏ 4 –º–µ—Ç—Ä–∞, –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–µ –æ–∫–Ω–∞. –î–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∞—è –æ—Ç–¥–µ–ª–∫–∞ –≤ —Å—Ç–∏–ª–µ –ª–æ—Ñ—Ç, –ø—Ä–æ–¥—É–º–∞–Ω–Ω—ã–µ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –Ω–∞ —ç—Ç–∞–∂–µ, –æ–±—É—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è –≤ –µ–¥–∏–Ω–æ–π –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏. –ù–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞. –í—Ö–æ–¥ –ø–æ –ø—Ä–æ–ø—É—Å–∫–∞–º, —Ä–µ—Å–µ–ø—à–Ω. –ï—Å—Ç—å –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–≥–æ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è: –º–µ–±–µ–ª—å, —Ç–µ—Ö–Ω–∏–∫–∞, –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä, —Å—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∫–∞, —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç. –í—Å–µ–≥–æ 9 –º–∏–Ω—É—Ç –ø–µ—à–∫–æ–º –æ—Ç —Å—Ç–∞–Ω—Ü–∏–∏ –ú–¶–ö "–°–æ–∫–æ–ª–∏–Ω–∞—è –≥–æ—Ä–∞", –≤ –ø–µ—à–µ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–∞—Ä–∫ –∫—É–ª—å—Ç—É—Ä—ã –∏ –æ—Ç–¥—ã—Ö–∞ "–ò–∑–º–∞–π–ª–æ–≤—Å–∫–∏–π". –î–æ –º–µ—Ç—Ä–æ –°–µ–º–µ–Ω–æ–≤—Å–∫–∞—è –º–æ–∂–Ω–æ –¥–æ–µ—Ö–∞—Ç—å –∑–∞ 14 –º–∏–Ω—É—Ç. –û—Ç–ª–∏—á–Ω–∞—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å. –û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–∫–∞–∑, –∑–≤–æ–Ω–∏—Ç–µ!`,
      }
  
  ];
const bot = new TelegramApi(token,{polling:true})
let count = 0;
const keyboard = {
    keyboard: [
        ["–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞"],
    ],
    resize_keyboard: true 
}
function previous(id){
    if (count===0) return
    count--
    return bot.sendMessage(id,'–ù–∞–∑–∞–¥')
}
bot.setMyCommands([
    {command: '/start', description: '–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É'},     
])
bot.on('callback_query', async msg => {
    const id = msg.message.chat.id;
    const data = msg.data;
    if (data==='search'){
       await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/img_1.jpg'));
       await bot.sendMessage(id,`–ì–¥–µ –ø—Ä–∏—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç–µ –∫–≤–∞—Ä—Ç–∏—Ä—É ?`,{
        reply_markup:JSON.stringify({
            inline_keyboard:[
                [{text: '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –æ–∫—Ä—É–≥', callback_data: 'place'}],
                [{text: '–°–µ–≤–µ—Ä–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –æ–∫—Ä—É–≥', callback_data: 'place'}],
                [{text: '–°–µ–≤–µ—Ä–æ-–≤–æ—Å—Ç–æ—á–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –æ–∫—Ä—É–≥', callback_data: 'place'}],
                [{text: '–í–æ—Å—Ç–æ—á–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –æ–∫—Ä—É–≥', callback_data: 'place'}],
                [{text: '–Æ–≥–æ-–≤–æ—Å—Ç–æ—á–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –æ–∫—Ä—É–≥', callback_data: 'place'}],
            ]
        }),
    });
    }   
});
bot.on('callback_query', async msg => {
    const id = msg.message.chat.id;
    const data = msg.data;
    if (data==='place'){
       await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/img_2.jpeg'));
       await bot.sendMessage(id,`–°–∫–æ–ª—å–∫–æ –∫–æ–º–Ω–∞—Ç –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –∫–≤–∞—Ä—Ç–∏—Ä–µ ?`,{
            reply_markup:JSON.stringify({
                inline_keyboard:[
                    [{text: '–°—Ç—É–¥–∏—è', callback_data: 'room'}],
                    [{text: '1', callback_data: 'room'},{text: '2', callback_data: 'room'},{text: '3', callback_data: 'room'}]
                ]
            }),
        });
    }   
});
bot.on('callback_query', async msg=>{
    const id = msg.message.chat.id;
    const data = msg.data;
    if (data === 'room'){
        await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/img_3.jpg'));
        await bot.sendMessage(id,`–ù–∞—Å–∫–æ–ª—å–∫–æ –≤–∞–∂–Ω–∞ –±–ª–∏–∑–æ—Å—Ç—å –º–µ—Ç—Ä–æ ?`,{
            reply_markup:JSON.stringify({
                inline_keyboard:[
                    [{text: '–•–æ—á—É —Ö–æ–¥–∏—Ç—å –ø–µ—à–∫–æ–º', callback_data: 'metro'}],
                    [{text: '–ì–æ—Ç–æ–≤ –µ—Ö–∞—Ç—å –Ω–∞ –∞–≤—Ç–æ–±—É—Å–µ', callback_data: 'metro'},],
                    [{text: '–ù–µ –ø–æ–ª—å–∑—É—é—Å—å –º–µ—Ç—Ä–æ', callback_data: 'metro'},]
                ]
            }),
        });
       
    }
}) 
bot.on('callback_query', async msg=>{
    const id = msg.message.chat.id;
    const data = msg.data;
    if (data === 'metro'){
        await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/img_4.webp'));
        await bot.sendMessage(id,`–•–æ—Ç–∏—Ç–µ –∑–∞–µ—Ö–∞—Ç—å —Å—Ä–∞–∑—É –∏–ª–∏ –≥–æ—Ç–æ–≤—ã –ø–æ–¥–æ–∂–¥–∞—Ç—å ?`,{
            reply_markup:JSON.stringify({
                inline_keyboard:[
                    [{text: '–°—Ä–∞–∑—É', callback_data: 'waiting'}],
                    [{text: '–ì–æ—Ç–æ–≤ –ø–æ–¥–æ–∂–¥–∞—Ç—å', callback_data: 'waiting'},],
                    [{text: '–ù–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ', callback_data: 'waiting'},]
                ]
            }),
        });
       
    }
})
bot.on('callback_query', async msg=>{
    const id = msg.message.chat.id;
    const data = msg.data;
    if (data === 'waiting'){
       await bot.sendMessage(id,`–ú—ã –ø–æ–¥–æ–±—Ä–∞–ª–∏ –¥–ª—è –≤–∞—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–≤–∞—Ä—Ç–∏—Ä`);   
       await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/1/flat_2.jpg'));
       await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/1/flat_1.jpg')); 
       await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/1/flat_3.jpg')); 
       await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/1/flat_4.jpg')); 
       await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/1/flat_5.jpg'));  
       await bot.sendMessage(id,`${flats[0].text}`,{
           reply_markup:JSON.stringify({
               inline_keyboard:[
                   [{text: '–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë', callback_data: 'first_flat'}],
               ]
           }),
       });
    }     
})
bot.on('callback_query', async msg=>{
    const id = msg.message.chat.id;
    const data = msg.data;
    if (data === 'first_flat'){  
        await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/2/flat_1.jpg'));
        await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/2/flat_2.jpg')); 
        await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/2/flat_3.jpg')); 
        await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/2/flat_4.jpg')); 
        await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/2/flat_5.jpg'));  
        await bot.sendMessage(id,`${flats[1].text}`,{
            reply_markup:JSON.stringify({
                inline_keyboard:[
                    [{text: '–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë', callback_data: 'second_flat'}],
                ]
            }),
        });
     }
})
bot.on('callback_query', async msg=>{
    const id = msg.message.chat.id;
    const data = msg.data;
    if (data === 'second_flat'){  
        await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/3/flat_1.jpg'));
        await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/3/flat_2.jpg')); 
        await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/3/flat_3.jpg')); 
        await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/3/flat_4.jpg')); 
        await bot.sendPhoto(id, fs.readFileSync(__dirname +'/images/examples/3/flat_5.jpg'));  
        await bot.sendMessage(id,`${flats[2].text}`,{
            reply_markup:JSON.stringify({
                inline_keyboard:[
                    [{text: '–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë', callback_data: 'third_flat'}],
                ]
            }),
        });
     }
})
bot.on('callback_query', async msg=>{
    const id = msg.message.chat.id;
    const data = msg.data;
    if (data === 'third_flat'){  
        await bot.sendMessage(id, `     üö´–í–ù–ò–ú–ê–ù–ò–ï üö´

–í—ã –∏—Å—á–µ—Ä–ø–∞–ª–∏ –ª–∏–º–∏—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π üë®‚Äçüíª

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ –ø–æ–ª–Ω—É—é –±–∞–∑—É –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ —É –Ω–∞—à–µ–≥–æ ¬´–ë–û–¢–ê¬ªüë®‚Äçüíª

–ë–æ–ª–µ–µ 5Ô∏è‚É£0Ô∏è‚É£0Ô∏è‚É£ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —É–∂–µ –∂–¥—É—Ç –∏–º–µ–Ω–Ω–æ —Ç–µ–±—è üè¨`,{
            reply_markup:JSON.stringify({
                inline_keyboard:[
                    [{text: '–û–ø–ª–∞—Ç–∏—Ç—å \u{1F4B3}', callback_data: 'payment',url:`https://oplata.qiwi.com/form?invoiceUid=e97958d7-a624-4e16-a331-289d81af3b94`}],
                    [{text: '–Ø –æ–ø–ª–∞—Ç–∏–ª \u{2705}', callback_data: 'payment_finish'}],
                ]
            }),
        });
       
     }
})
bot.on('callback_query', async msg=>{
    const id = msg.message.chat.id;
    const data = msg.data;
    if (data === 'payment_finish'){  
        await bot.sendMessage(id,`–°–ø–∞—Å–∏–±–æ –∑–∞ –æ–ø–ª–∞—Ç—É! –ú—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞—à –ø–ª–∞—Ç–µ–∂. –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞`);
        setTimeout(()=>{
            bot.sendMessage(id,`–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –ø–ª–∞—Ç–µ–∂ –Ω–µ –±—ã–ª –ø–æ–ª—É—á–µ–Ω`);
        },60000)
     }
})
bot.on('message', async msg=>{
    const text = msg.text;
    const id = msg.chat.id;
   
    if (text === `/start` || text === `–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞`) {
        count++;
        await bot.sendMessage(id,`–î–ª—è –Ω–∞—á–∞–ª–∞ –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å–æ–≤`,{
            reply_markup:keyboard,
           
        });
       await bot.sendMessage(id,`–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç ?`); 
    } else {
        switch(count){
                case 1 :
                    count++
                    await bot.sendMessage(id,`–°–∫–æ–ª—å–∫–æ –≤–∞–º –ª–µ—Ç ? `);
                    break;
                case 2 :
                    count++
                    await bot.sendMessage(id,`–†–∞–±–æ—Ç–∞–µ—Ç–µ –∏–ª–∏ —É—á–∏—Ç–µ—Å—å ?`);
                    break;
                case 3 :
                    count++
                    await bot.sendMessage(id,`–°–∫–æ–ª—å–∫–æ –ª—é–¥–µ–π –±—É–¥–µ—Ç –ø—Ä–æ–∂–∏–≤–∞—Ç—å ?`);
                    break;
                case 4 :
                    count++
                    await bot.sendMessage(id,`–ï—Å—Ç—å –ª–∏ —É –≤–∞—Å –¥–æ–º–∞—à–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω—ã–µ ?`);
                    break;
                 case 5 :
                    count++
                    await bot.sendMessage(id,`–£–∫–∞–∂–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Å—É–º–º—É –∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç—ã`);
                    break;
                 case 6 :
                    count++
                    await bot.sendMessage(id,`–£–∫–∞–∂–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å—É–º–º—É –∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç—ã`);
                    break;
                 case 7 :
                    count++
                    await bot.sendMessage(id,`–£–∫–∞–∂–∏—Ç–µ –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ +7`); 
                    break;
                case 8:
                    await setTimeout(()=>{
                        bot.sendMessage(id,`–û—Ç–ª–∏—á–Ω–æ —Ç–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –Ω–∞—á–∞—Ç—å –ø–æ–¥–±–æ—Ä –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –¥–ª—è –≤–∞—Å`);
                    },1000);
                    await setTimeout(()=>{
                        bot.sendMessage(id,`–î–ª—è –Ω–∞—á–∞–ª–∞ –ø–æ–∏—Å–∫–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É`,{
                        reply_markup:JSON.stringify({
                            inline_keyboard:[
                                [{text: '–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É', callback_data: 'search'}]
                            ]
                        }),
                    });
                   },1200)
                        break;
                default: await bot.sendMessage(id,"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∏ –Ω–∞—á–Ω–∏—Ç–µ –ø–æ–∏—Å–∫ –∑–∞–Ω–æ–≤–æ");
            }  
    }
    
    
})

